import{_ as j}from"./UiSelect.vue.4e470735.js";import{_ as N}from"./UiButton.vue.38b710ee.js";import{_ as I}from"./UiInput.vue.3287b1e6.js";import{_ as A}from"./FilterGroups.vue.d2e46dec.js";import{d as B,x as q,y as F,r as d,j as G,a as m,c as p,e as l,u as o,h as r,w as c,i as u,t as _,F as M,v as V,p as v,m as z,s as U}from"./entry.b7c96027.js";import{u as L}from"./useGlobalState.6c89f999.js";import{u as P}from"./useToast.f617896e.js";import"./useLanguagesStore.8319741b.js";const E={class:"max-w-xl m-auto w-full z-50 gap-3 flex flex-col rounded-md bg-white p-2"},Z={class:"font-semibold grid grid-cols-6 text-lg text-gray-800 border-b-2 border-b-gray-500 pb-2 uppercase text-center"},H=l("span",{class:"col-span-4 col-start-2"}," create a Affiliation ",-1),J=l("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24"},[l("path",{d:"m12 13.4-4.9 4.9q-.275.275-.7.275-.425 0-.7-.275-.275-.275-.275-.7 0-.425.275-.7l4.9-4.9-4.9-4.9q-.275-.275-.275-.7 0-.425.275-.7.275-.275.7-.275.425 0 .7.275l4.9 4.9 4.9-4.9q.275-.275.7-.275.425 0 .7.275.275.275.275.7 0 .425-.275.7L13.4 12l4.9 4.9q.275.275.275.7 0 .425-.275.7-.275.275-.7.275-.425 0-.7-.275Z"})],-1),K=[J],Q={class:"h-full w-full flex flex-col gap-2"},R={key:0,class:"h-fit justify-start relative items-start bg-white p-2 rounded-md w-fit max-w-[26rem] flex flex-wrap gap-2"},W=l("span",{class:"w-4 h-4 bg-white absolute top-[calc(50%-2rem)] rotate-45 -left-[0.4rem] -z-10"},null,-1),X={class:"font-semibold grid w-full grid-cols-6 text-lg text-gray-800 border-b-2 border-b-gray-500 pb-2 uppercase text-center"},Y=l("span",{class:"col-span-4 col-start-2"}," Months ",-1),ee={class:"w-full h-full flex flex-wrap gap-2"},te={class:"w-full flex-col flex"},me=B({__name:"CreateAffiliation",setup(se){const{createAffiliation:w}=q(),{toggleModal:g}=L(),{toggleToast:x}=P(),{Students:y}=F(),a=d(!1),i=d(!1),k=["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],t=G({studentid:0,group:0,amount:0,months:Array()}),h=d(),$=async()=>{try{if(t.studentid!==0&&t.group){await w(t),g(!1);return}x({text:"fill all the feilds",role:"alert"})}catch(n){console.log(n)}},O=n=>{t.group=n.id===t.group?0:n.id,h.value=t.group==0?null:n.name},S=n=>{if(!t.months.includes(n)){t.months.push(n);return}t.months.splice(t.months.indexOf(n),1)};return(n,e)=>{const T=j,f=N,C=I,D=A;return m(),p("div",{class:U(["w-fit h-fit grid transition-all duration-150 gap-3 justify-center items-center min-w-[50%]",o(a)||o(i)?"grid-cols-2 grid-rows-1":"grid-cols-1 grid-rows-1"])},[l("div",E,[l("div",Z,[H,l("span",{onClick:e[0]||(e[0]=s=>o(g)(!1)),class:"cursor-pointer w-full flex items-center justify-end h-full"},K)]),l("div",Q,[r(T,{"onItem:select":e[1]||(e[1]=s=>o(t).studentid=Number(s.id)),DisplayFeild:"fullname",Items:o(y).map(s=>({fullname:s.fullname,id:s.id}))},{default:c(()=>[u(" Select student ")]),_:1},8,["Items"]),r(f,{"onOn:click":e[2]||(e[2]=s=>(a.value=!o(a),i.value=!1)),Disable:!1,colorTheme:"b"},{default:c(()=>[u(_(o(t).months.length>0?`${o(t).months.length} months selected`:"select months"),1)]),_:1}),r(f,{"onOn:click":e[3]||(e[3]=s=>(i.value=!o(i),a.value=!1)),Disable:!1,colorTheme:"b"},{default:c(()=>[u(_(o(h)??"select a group"),1)]),_:1}),r(C,{Type:"number",Placeholder:"amount","onOn:input":e[4]||(e[4]=s=>o(t).amount=Number(s))}),r(f,{"onOn:click":$,Disable:!1,colorTheme:"a"},{default:c(()=>[u(" Create Aff ")]),_:1})])]),o(a)?(m(),p("div",R,[W,l("div",X,[Y,l("span",{onClick:e[5]||(e[5]=s=>a.value=!1),class:"cursor-pointer w-full h-full"}," x ")]),l("div",ee,[(m(),p(M,null,V(k,(s,b)=>r(f,{"onOn:click":oe=>S(b+1),Disable:!1,colorTheme:o(t).months.includes(b+1)?"":"b"},{default:c(()=>[u(_(s),1)]),_:2},1032,["onOn:click","colorTheme"])),64))]),l("div",te,[r(f,{"onOn:click":e[6]||(e[6]=s=>a.value=!1),Disable:!1,colorTheme:"a"},{default:c(()=>[u(" Done ")]),_:1})])])):v("",!0),o(i)?(m(),z(D,{key:1,"onOn:close":e[7]||(e[7]=s=>i.value=!1),"onOn:select":O})):v("",!0)],2)}}});export{me as default};
